# System Architecture Diagram

## ğŸ“Š Complete System Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         EDUCATIONAL CONTENT SYSTEM                       â”‚
â”‚                     Secure Content Management Platform                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                                   USERS
                                     â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                                 â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  PUBLIC USER    â”‚              â”‚     ADMIN       â”‚
            â”‚   (Viewer)      â”‚              â”‚   (Teacher)     â”‚
            â”‚  No Login       â”‚              â”‚  Login Required â”‚
            â”‚  Read-Only      â”‚              â”‚   Full CRUD     â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚                                 â”‚
                    â”‚                                 â”‚
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”¿â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”¿â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ                 â”‚        FRONTEND LAYER         â”‚                 â”ƒ
â”ƒ                 â”‚         (Port 3000)           â”‚                 â”ƒ
â”ƒ                 â”‚                               â”‚                 â”ƒ
â”ƒ     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”ƒ
â”ƒ     â”‚   PUBLIC WEBSITE       â”‚    â”‚   ADMIN DASHBOARD         â”‚  â”ƒ
â”ƒ     â”‚  ==================    â”‚    â”‚  ===================      â”‚  â”ƒ
â”ƒ     â”‚  â€¢ index.html          â”‚    â”‚  â€¢ admin.html             â”‚  â”ƒ
â”ƒ     â”‚  â€¢ app.js              â”‚    â”‚  â€¢ admin.js               â”‚  â”ƒ
â”ƒ     â”‚  â€¢ styles.css          â”‚    â”‚  â€¢ admin-styles.css       â”‚  â”ƒ
â”ƒ     â”‚                        â”‚    â”‚                           â”‚  â”ƒ
â”ƒ     â”‚  Routes:               â”‚    â”‚  Routes:                  â”‚  â”ƒ
â”ƒ     â”‚  â€¢ /                   â”‚    â”‚  â€¢ /admin/login           â”‚  â”ƒ
â”ƒ     â”‚  â€¢ /classes            â”‚    â”‚  â€¢ /admin/dashboard       â”‚  â”ƒ
â”ƒ     â”‚  â€¢ /class/:id          â”‚    â”‚  â€¢ /admin/classes         â”‚  â”ƒ
â”ƒ     â”‚  â€¢ /unit/:id           â”‚    â”‚  â€¢ /admin/units           â”‚  â”ƒ
â”ƒ     â”‚  â€¢ /lesson/:id         â”‚    â”‚  â€¢ /admin/lessons         â”‚  â”ƒ
â”ƒ     â”‚                        â”‚    â”‚                           â”‚  â”ƒ
â”ƒ     â”‚  Features:             â”‚    â”‚  Features:                â”‚  â”ƒ
â”ƒ     â”‚  â€¢ Client routing      â”‚    â”‚  â€¢ Login form             â”‚  â”ƒ
â”ƒ     â”‚  â€¢ Breadcrumbs         â”‚    â”‚  â€¢ CRUD forms             â”‚  â”ƒ
â”ƒ     â”‚  â€¢ Cards/Lists         â”‚    â”‚  â€¢ Modals                 â”‚  â”ƒ
â”ƒ     â”‚  â€¢ Responsive          â”‚    â”‚  â€¢ Sidebar nav            â”‚  â”ƒ
â”ƒ     â”‚  â€¢ Vanilla JS          â”‚    â”‚  â€¢ Statistics             â”‚  â”ƒ
â”ƒ     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”¿â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”¿â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›
                    â”‚                               â”‚
                    â”‚         HTTP/HTTPS            â”‚
                    â”‚                               â”‚
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”¿â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”¿â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ                 â”‚        API LAYER              â”‚                 â”ƒ
â”ƒ                 â”‚      (Express.js)             â”‚                 â”ƒ
â”ƒ                 â”‚                               â”‚                 â”ƒ
â”ƒ     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”ƒ
â”ƒ     â”‚   PUBLIC ENDPOINTS     â”‚    â”‚   ADMIN ENDPOINTS         â”‚  â”ƒ
â”ƒ     â”‚  ==================    â”‚    â”‚  ===================      â”‚  â”ƒ
â”ƒ     â”‚  GET /api/classes      â”‚    â”‚  ğŸ”’ POST /api/classes     â”‚  â”ƒ
â”ƒ     â”‚  GET /api/classes/:id  â”‚    â”‚  ğŸ”’ PUT  /api/classes/:id â”‚  â”ƒ
â”ƒ     â”‚  GET /api/units/...    â”‚    â”‚  ğŸ”’ DEL  /api/classes/:id â”‚  â”ƒ
â”ƒ     â”‚  GET /api/lessons/...  â”‚    â”‚  ğŸ”’ POST /api/units       â”‚  â”ƒ
â”ƒ     â”‚                        â”‚    â”‚  ğŸ”’ PUT  /api/units/:id   â”‚  â”ƒ
â”ƒ     â”‚  No Auth Required âœ“    â”‚    â”‚  ğŸ”’ DEL  /api/units/:id   â”‚  â”ƒ
â”ƒ     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  ğŸ”’ POST /api/lessons     â”‚  â”ƒ
â”ƒ                                   â”‚  ğŸ”’ PUT  /api/lessons/:id â”‚  â”ƒ
â”ƒ     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  ğŸ”’ DEL  /api/lessons/:id â”‚  â”ƒ
â”ƒ     â”‚  AUTHENTICATION         â”‚   â”‚                           â”‚  â”ƒ
â”ƒ     â”‚  =================      â”‚   â”‚  Auth Required ğŸ”’         â”‚  â”ƒ
â”ƒ     â”‚  POST /api/auth/login   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”ƒ
â”ƒ     â”‚  POST /api/auth/logout  â”‚                â”‚                 â”ƒ
â”ƒ     â”‚  GET  /api/auth/verify  â”‚                â”‚                 â”ƒ
â”ƒ     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚                 â”ƒ
â”ƒ                                                â”‚                 â”ƒ
â”ƒ     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”ƒ
â”ƒ     â”‚              MIDDLEWARE LAYER                           â”‚  â”ƒ
â”ƒ     â”‚  =====================================================   â”‚  â”ƒ
â”ƒ     â”‚  â€¢ authenticateToken() - JWT verification              â”‚  â”ƒ
â”ƒ     â”‚  â€¢ cookieParser() - Cookie handling                    â”‚  â”ƒ
â”ƒ     â”‚  â€¢ express.json() - JSON parsing                       â”‚  â”ƒ
â”ƒ     â”‚  â€¢ express.static() - Static files                     â”‚  â”ƒ
â”ƒ     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”¿â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›
                                   â”‚
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”¿â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ                 DATABASE LAYER â”‚                                â”ƒ
â”ƒ                   (SQLite 3)   â”‚                                â”ƒ
â”ƒ                                â”‚                                â”ƒ
â”ƒ     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”ƒ
â”ƒ     â”‚                  database.js                          â”‚  â”ƒ
â”ƒ     â”‚  ==================================================   â”‚  â”ƒ
â”ƒ     â”‚  â€¢ connect() - Database connection                   â”‚  â”ƒ
â”ƒ     â”‚  â€¢ run()     - Execute queries                       â”‚  â”ƒ
â”ƒ     â”‚  â€¢ get()     - Single record                         â”‚  â”ƒ
â”ƒ     â”‚  â€¢ all()     - Multiple records                      â”‚  â”ƒ
â”ƒ     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”ƒ
â”ƒ                                 â”‚                               â”ƒ
â”ƒ     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”ƒ
â”ƒ     â”‚              DATABASE SCHEMA                          â”‚  â”ƒ
â”ƒ     â”‚  ==================================================   â”‚  â”ƒ
â”ƒ     â”‚                                                       â”‚  â”ƒ
â”ƒ     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚  â”ƒ
â”ƒ     â”‚  â”‚   admins    â”‚       â”‚   classes   â”‚              â”‚  â”ƒ
â”ƒ     â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤              â”‚  â”ƒ
â”ƒ     â”‚  â”‚ id          â”‚       â”‚ id          â”‚              â”‚  â”ƒ
â”ƒ     â”‚  â”‚ username    â”‚       â”‚ name        â”‚              â”‚  â”ƒ
â”ƒ     â”‚  â”‚ password_   â”‚       â”‚ created_at  â”‚              â”‚  â”ƒ
â”ƒ     â”‚  â”‚   hash      â”‚       â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜              â”‚  â”ƒ
â”ƒ     â”‚  â”‚ created_at  â”‚              â”‚                     â”‚  â”ƒ
â”ƒ     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚ FK                  â”‚  â”ƒ
â”ƒ     â”‚                                â–¼                     â”‚  â”ƒ
â”ƒ     â”‚                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚  â”ƒ
â”ƒ     â”‚                       â”‚    units    â”‚               â”‚  â”ƒ
â”ƒ     â”‚                       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤               â”‚  â”ƒ
â”ƒ     â”‚                       â”‚ id          â”‚               â”‚  â”ƒ
â”ƒ     â”‚                       â”‚ class_id ğŸ”— â”‚               â”‚  â”ƒ
â”ƒ     â”‚                       â”‚ title       â”‚               â”‚  â”ƒ
â”ƒ     â”‚                       â”‚ created_at  â”‚               â”‚  â”ƒ
â”ƒ     â”‚                       â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜               â”‚  â”ƒ
â”ƒ     â”‚                              â”‚ FK                   â”‚  â”ƒ
â”ƒ     â”‚                              â–¼                      â”‚  â”ƒ
â”ƒ     â”‚                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚  â”ƒ
â”ƒ     â”‚                       â”‚   lessons   â”‚              â”‚  â”ƒ
â”ƒ     â”‚                       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤              â”‚  â”ƒ
â”ƒ     â”‚                       â”‚ id          â”‚              â”‚  â”ƒ
â”ƒ     â”‚                       â”‚ unit_id  ğŸ”— â”‚              â”‚  â”ƒ
â”ƒ     â”‚                       â”‚ title       â”‚              â”‚  â”ƒ
â”ƒ     â”‚                       â”‚ content     â”‚              â”‚  â”ƒ
â”ƒ     â”‚                       â”‚ created_at  â”‚              â”‚  â”ƒ
â”ƒ     â”‚                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚  â”ƒ
â”ƒ     â”‚                                                     â”‚  â”ƒ
â”ƒ     â”‚  CASCADE DELETE: Classes â†’ Units â†’ Lessons         â”‚  â”ƒ
â”ƒ     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›


                        SECURITY LAYERS
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ” AUTHENTICATION & AUTHORIZATION                          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  â€¢ JWT Tokens (7-day expiry)                                â”‚
â”‚  â€¢ httpOnly Cookies (XSS prevention)                        â”‚
â”‚  â€¢ sameSite: strict (CSRF prevention)                       â”‚
â”‚  â€¢ bcrypt Password Hashing (10 rounds)                      â”‚
â”‚  â€¢ Server-side Token Verification                           â”‚
â”‚  â€¢ Protected Middleware on Admin Routes                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ›¡ï¸ INPUT VALIDATION & SANITIZATION                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  â€¢ Required Field Validation                                â”‚
â”‚  â€¢ Foreign Key Existence Checks                             â”‚
â”‚  â€¢ Parameterized SQL Queries (Injection Prevention)         â”‚
â”‚  â€¢ HTML Escaping (XSS Prevention)                           â”‚
â”‚  â€¢ Whitespace Trimming                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ”’ HTTPS & COOKIES                                          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  â€¢ Secure Flag (Production)                                 â”‚
â”‚  â€¢ httpOnly Flag (Always)                                   â”‚
â”‚  â€¢ sameSite: strict (Always)                                â”‚
â”‚  â€¢ HTTPS Required (Production)                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


                        DATA FLOW
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PUBLIC USER FLOW (Read-Only):
1. User visits /classes
2. Browser makes GET /api/classes
3. Express routes request to classRoutes.js
4. Query database (no auth check)
5. Return classes data
6. Frontend renders cards
7. User clicks class
8. Repeat for Units and Lessons

ADMIN USER FLOW (CRUD):
1. User visits /admin/login
2. User submits credentials
3. POST /api/auth/login
4. Backend verifies with bcrypt
5. Generate JWT token
6. Set httpOnly cookie
7. Redirect to dashboard
8. User creates class
9. POST /api/classes (with cookie)
10. authenticateToken() middleware checks JWT
11. If valid, create class in database
12. Return success
13. Frontend refreshes list


                    REQUEST/RESPONSE FLOW
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

PUBLIC REQUEST:
  Browser                Server              Database
     â”‚                      â”‚                    â”‚
     â”‚  GET /api/classes    â”‚                    â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º                    â”‚
     â”‚                      â”‚  SELECT * FROM..   â”‚
     â”‚                      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º
     â”‚                      â”‚  [classes data]    â”‚
     â”‚                      â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
     â”‚  [classes JSON]      â”‚                    â”‚
     â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                    â”‚
     â”‚                      â”‚                    â”‚

ADMIN REQUEST:
  Browser                Server              Database
     â”‚                      â”‚                    â”‚
     â”‚ POST /api/classes    â”‚                    â”‚
     â”‚ Cookie: authToken    â”‚                    â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º                    â”‚
     â”‚                      â”‚ Verify JWT âœ“       â”‚
     â”‚                      â”‚                    â”‚
     â”‚                      â”‚  INSERT INTO...    â”‚
     â”‚                      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º
     â”‚                      â”‚  [new class]       â”‚
     â”‚                      â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
     â”‚  [class JSON]        â”‚                    â”‚
     â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                    â”‚
     â”‚                      â”‚                    â”‚


                    FILE ORGANIZATION
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

educational-content-system/
â”‚
â”œâ”€â”€ ğŸ“„ Configuration Files
â”‚   â”œâ”€â”€ package.json          - Dependencies & scripts
â”‚   â”œâ”€â”€ .env                  - Environment variables
â”‚   â”œâ”€â”€ .env.example          - Template
â”‚   â”œâ”€â”€ .gitignore            - Git exclusions
â”‚   â””â”€â”€ server.js             - Main entry point
â”‚
â”œâ”€â”€ ğŸ“ Documentation
â”‚   â”œâ”€â”€ README.md             - Main documentation
â”‚   â”œâ”€â”€ QUICKSTART.md         - Setup guide
â”‚   â”œâ”€â”€ DEPLOYMENT.md         - Production guide
â”‚   â”œâ”€â”€ SECURITY.md           - Security audit
â”‚   â”œâ”€â”€ PROJECT_SUMMARY.md    - Project overview
â”‚   â””â”€â”€ ARCHITECTURE.md       - This file
â”‚
â”œâ”€â”€ ğŸ“ Backend (src/)
â”‚   â”œâ”€â”€ database/
â”‚   â”‚   â”œâ”€â”€ database.js       - DB connection
â”‚   â”‚   â””â”€â”€ initDatabase.js   - Schema creation
â”‚   â”œâ”€â”€ middleware/
â”‚   â”‚   â””â”€â”€ auth.js           - JWT middleware
â”‚   â””â”€â”€ routes/
â”‚       â”œâ”€â”€ authRoutes.js     - Login/logout
â”‚       â”œâ”€â”€ classRoutes.js    - Class CRUD
â”‚       â”œâ”€â”€ unitRoutes.js     - Unit CRUD
â”‚       â””â”€â”€ lessonRoutes.js   - Lesson CRUD
â”‚
â””â”€â”€ ğŸ“ Frontend (public/)
    â”œâ”€â”€ index.html            - Public site
    â”œâ”€â”€ app.js                - Public logic
    â”œâ”€â”€ styles.css            - Public styles
    â”œâ”€â”€ admin.html            - Admin panel
    â”œâ”€â”€ admin.js              - Admin logic
    â””â”€â”€ admin-styles.css      - Admin styles


                    TECHNOLOGY STACK
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     BACKEND                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Runtime:         Node.js 16+                            â”‚
â”‚  Framework:       Express.js 4.18                        â”‚
â”‚  Database:        SQLite 3.5                             â”‚
â”‚  Authentication:  jsonwebtoken 9.0                       â”‚
â”‚  Password Hash:   bcrypt 5.1                             â”‚
â”‚  Config:          dotenv 16.3                            â”‚
â”‚  Cookies:         cookie-parser 1.4                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     FRONTEND                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  HTML:            HTML5 (semantic)                       â”‚
â”‚  CSS:             CSS3 (grid, flexbox, variables)        â”‚
â”‚  JavaScript:      Vanilla JS (ES6+)                      â”‚
â”‚  Frameworks:      None                                   â”‚
â”‚  Build Tools:     None                                   â”‚
â”‚  Client Router:   Custom implementation                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     SECURITY                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Tokens:          JWT (HS256)                            â”‚
â”‚  Storage:         httpOnly cookies                       â”‚
â”‚  CSRF:            sameSite: strict                       â”‚
â”‚  Passwords:       bcrypt (10 rounds)                     â”‚
â”‚  SQL:             Parameterized queries                  â”‚
â”‚  XSS:             HTML escaping                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


                    DEPLOYMENT ARCHITECTURE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PRODUCTION SETUP (Recommended):

    Internet
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ DNS Record  â”‚ yourdomain.com
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SSL/TLS     â”‚ Let's Encrypt (HTTPS)
â”‚ (Nginx)     â”‚ Port 443
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Reverse     â”‚ Nginx
â”‚ Proxy       â”‚ proxy_pass to :3000
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Process     â”‚ PM2
â”‚ Manager     â”‚ Keeps app running
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Node.js App â”‚ Port 3000
â”‚ (Express)   â”‚ Educational CMS
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SQLite DB   â”‚ database.db
â”‚ (File)      â”‚ /var/www/...
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ALTERNATIVE: Platform as a Service (PaaS)

    Internet â†’ [Heroku/Railway/Render] â†’ Node.js App â†’ SQLite


                    SECURITY ARCHITECTURE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

DEFENSE IN DEPTH:

Layer 1: HTTPS (Transport Security)
  â””â”€â–º Encrypted communication
      No man-in-the-middle attacks

Layer 2: httpOnly Cookies (Storage Security)
  â””â”€â–º JavaScript cannot access tokens
      XSS cannot steal authentication

Layer 3: JWT Verification (Authentication)
  â””â”€â–º Server validates every request
      Invalid/expired tokens rejected

Layer 4: Middleware (Authorization)
  â””â”€â–º Admin routes protected
      Public routes unrestricted

Layer 5: Input Validation (Data Security)
  â””â”€â–º Required fields checked
      Foreign keys verified
      SQL parameterized

Layer 6: Database Constraints (Data Integrity)
  â””â”€â–º Foreign keys enforced
      Cascade deletes
      Data types enforced


                    SCALABILITY CONSIDERATIONS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

CURRENT CAPACITY:
  â€¢ Users: 100s concurrent
  â€¢ Records: 10,000+
  â€¢ Response: <100ms

UPGRADE PATH:
  Phase 1 (Current)
    â””â”€â–º SQLite + Single server
        Good for 100s of users

  Phase 2 (Growth)
    â””â”€â–º PostgreSQL + Single server
        Good for 1,000s of users

  Phase 3 (Scale)
    â””â”€â–º PostgreSQL + Load balancer + Multiple servers
        Good for 10,000s of users

  Phase 4 (Large Scale)
    â””â”€â–º PostgreSQL + Redis + CDN + Load balancer
        Good for 100,000s of users


                    MONITORING & LOGGING
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

RECOMMENDED SETUP:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Application      â”‚
â”‚   (Express)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â”œâ”€â–º Console Logs (Development)
          â”œâ”€â–º File Logs (Production)
          â”œâ”€â–º PM2 Logs (Process)
          â””â”€â–º Error Tracking (Sentry)

METRICS TO MONITOR:
  â€¢ Response times
  â€¢ Error rates
  â€¢ Memory usage
  â€¢ CPU usage
  â€¢ Disk space
  â€¢ Active sessions


                    BACKUP STRATEGY
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

DATABASE BACKUPS:

  Daily Backup (Automated)
    â””â”€â–º Copy database.db
        Keep 30 days

  Weekly Backup (Offsite)
    â””â”€â–º Copy to cloud storage
        Keep 12 weeks

  Monthly Backup (Archive)
    â””â”€â–º Long-term storage
        Keep indefinitely

RESTORE PROCESS:
  1. Stop application
  2. Replace database.db
  3. Restart application
  4. Verify data


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                    END OF ARCHITECTURE DIAGRAM
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

For more information, see:
  â€¢ README.md - Complete documentation
  â€¢ SECURITY.md - Security audit
  â€¢ DEPLOYMENT.md - Production deployment
  â€¢ QUICKSTART.md - Quick setup guide
